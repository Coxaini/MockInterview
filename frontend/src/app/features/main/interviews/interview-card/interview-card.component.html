<div class="card w-full shadow-md">
    <div class="card-body">
        <div class="card-title flex justify-between w-full">
            <div class="inline-flex gap-1">
                <app-programming-language-icon
                    [programmingLanguage]="interview.programmingLanguage"
                ></app-programming-language-icon>
                Interview that lasted {{ getInterviewDuration() }}
            </div>
            <h2>{{ interview.startDateTime | date: "short" }}</h2>
        </div>
        <div class="flex flex-wrap gap-2">
            @for (tag of interview.tags; track $index) {
                <div class="badge badge-outline badge-secondary">
                    {{ tag }}
                </div>
            }
        </div>
        <div class="w-full flex items-end">
            <div class="flex flex-col items-center">
                <span class="font-bold text-xl">{{ interview.mate.name }}</span>
                @if (interview.mate.avatarUrl) {
                    <div class="avatar">
                        <div class="w-12 rounded-full">
                            <img
                                [src]="interview.mate.avatarUrl"
                                alt="mate`s avatar"
                            />
                        </div>
                    </div>
                } @else {
                    <ng-icon size="48px" name="heroUserCircle"></ng-icon>
                }
            </div>
            @if (interview.feedback) {
                <div class="chat chat-start">
                    <div class="chat-bubble max-w-full min-w-[6rem]">
                        {{ interview.feedback }}
                    </div>
                    <div class="chat-footer opacity-50">Feedback</div>
                </div>
            } @else {
                <div role="alert" class="alert mx-2.5">
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        fill="none"
                        viewBox="0 0 24 24"
                        class="stroke-info shrink-0 w-6 h-6"
                    >
                        <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
                        ></path>
                    </svg>
                    <span>No feedback yet</span>
                </div>
            }
        </div>

        <div class="card-actions justify-end">
            <a
                [routerLink]="['/interviews', interview.id]"
                class="btn btn-outline btn-warning"
                >Details</a
            >
        </div>
    </div>
</div>
